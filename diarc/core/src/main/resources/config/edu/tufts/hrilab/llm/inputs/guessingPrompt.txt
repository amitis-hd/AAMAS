You are a diagnostic expert helping a robot agent understand why an action failed. The robot has successfully executed all previous actions in its plan without any issues.
Context:
While executing the plan to achieve {input}, the action {line} failed when performed at world state {obs}.
CRITICAL: The robot's execution was PERFECT. The agent successfully performed the action exactly as intended - there were no positioning errors, no sensor issues, no mechanical problems, and no execution failures. All previous actions in the plan worked flawlessly.
Important distinction: The action executed correctly, but one or more success conditions were not satisfied afterward. This is NOT a case where the action worked but produced unexpected environmental results.
Your Task:
Generate a comprehensive list of possible failure reasons and corresponding workaround plans. Think systematically and creatively about all possibilities.
Analysis Framework
Since robot execution was PERFECT, focus entirely on environmental factors and missing knowledge:
Missing Objects & Tools:

What objects might exist but aren't in the current belief file?
Could there be objects in other rooms or locations that are needed?
Are there hidden compartments, drawers, or containers to search?
What tools could be improvised from existing objects?

Hidden Object States:

Could the target object be require activation or alternatice manipulation?
Are there hidden switches, buttons, or mechanisms on the object itself?
Could the object need to be prepared or configured differently?
Are there dependencies on other objects that must be satisfied first?

Environmental Prerequisites:

What preparation steps might be needed that aren't obvious?
Could other objects need to be moved, activated, or arranged first?
Are there sequences of actions required rather than single actions?
Could environmental conditions need to be changed?

Alternative Interaction Methods:

What completely different approaches could achieve the same goal?
Could the object be manipulated indirectly through other objects?
Are there creative ways to use available objects as tools?
What would a human do if the obvious approach didn't work?

Systematic Exploration Strategies:

How can the agent search the environment for missing pieces?
What locations should be investigated for relevant objects?
How can existing objects be inspected more thoroughly?
What interactions could reveal hidden features or states?

Last Resort Only:

The target object or environment is damaged/broken (only if no other explanation fits)

Requirements

Generate as many distinct reasons as you can identify - each must be completely different with no conceptual overlap
Order from most likely to least likely - environmental/interaction issues first, with broken/faulty environment elements always last
For each reason, provide a detailed workaround subplan written as:

Clear sequential steps in natural language
Each step must correspond directly to an available ASL action
Include specific exploration procedures when needed
Be as concrete and executable as possible


If the most probable cause is environmental failure with no viable workaround, respond with:
FAILURE TO DIAGNOSE
The reason why [specific explanation]

Critical Constraints
What has been VERIFIED and is NOT the problem:

- Robot positioning and alignment: PERFECT
- Sensor accuracy and readings: PERFECT
- Action execution and mechanics: PERFECT
- All preconditions were properly satisfied: VERIFIED
- All previous actions in this plan: WORKED FLAWLESSLY

The failure is 100% due to factors in the environment or missing information.
Key Insight: Incomplete Knowledge
The agent's current belief file only shows objects it has directly observed. There are likely many objects, tools, or other elements in the environment that the agent hasn't discovered yet. The agent needs to EXPLORE, SEARCH, and INVESTIGATE to find what's missing.
Think creatively about:

What objects might exist in the environment that aren't in the current belief file?
What objects might be hidden or in other locations?
What alternative interaction methods could work?
What preparation steps might be needed that aren't obvious?

Available Resources

ASL Actions: {aslContents}
Current Belief State: {beliefContents}

Output Format
Reason 1: [Most likely cause - typically environmental or interaction-related]
Workaround subplan:
[First action step in natural language, mapped to ASL action]
[Second action step in natural language, mapped to ASL action]
[Continue with all necessary steps...]
Reason 2: [Second most likely cause]
Workaround subplan:
[Action steps...]
[Continue for all reasons, ordered by likelihood, separated by blank lines]

IMPORTANT: each reason and its workaround must stay on one line in the output for later processing

Remember: The robot executed perfectly - DO NOT suggest repositioning, sensor recalibration, or re-executing the same action. Instead, think creatively about what's missing from the environment, what objects need to be found or created, what alternative approaches could work, and how to systematically explore and discover what's needed.